srun: job 4793272 queued and waiting for resources
srun: job 4793272 has been allocated resources
srun: Job 4793272 scheduled successfully!
Current QUOTA_TYPE is [reserved], which means the job has occupied quota in RESERVED_TOTAL under your partition.
Current PHX_PRIORITY is normal

/mnt/petrelfs/liuzheng/anaconda3/envs/datagen/lib/python3.10/site-packages/xformers/ops/fmha/flash.py:211: FutureWarning: `torch.library.impl_abstract` was renamed to `torch.library.register_fake`. Please use that instead; we will remove `torch.library.impl_abstract` in a future version of PyTorch.
  @torch.library.impl_abstract("xformers_flash::flash_fwd")
/mnt/petrelfs/liuzheng/anaconda3/envs/datagen/lib/python3.10/site-packages/xformers/ops/fmha/flash.py:344: FutureWarning: `torch.library.impl_abstract` was renamed to `torch.library.register_fake`. Please use that instead; we will remove `torch.library.impl_abstract` in a future version of PyTorch.
  @torch.library.impl_abstract("xformers_flash::flash_bwd")
INFO 12-10 01:12:20 DataManager.py:24] DataManager initialized with base_save_folder: intermediate_results/, final_output_folder: results/video
INFO 12-10 01:12:20 manager.py:69] Starting step 0: preprocess - format
INFO 12-10 01:12:20 DataManager.py:124] Recording data for step step_0_preprocess_format
INFO 12-10 01:12:20 DataManager.py:53] Saved 2 items to intermediate_results/step_0_preprocess_format/result.jsonl
INFO 12-10 01:12:20 manager.py:84] Completed step 0: preprocess - format
INFO 12-10 01:12:20 manager.py:69] Starting step 1: VideoGenerator - ModelScopeT2VGenerator
INFO 12-10 01:12:20 Dataset.py:29] Loaded 2 items from intermediate_results/step_0_preprocess_format/result.jsonl
WARNING 12-10 01:12:20 Dataset.py:99] Item missing 'raw_video' key.
WARNING 12-10 01:12:20 Dataset.py:99] Item missing 'raw_video' key.
INFO 12-10 01:12:20 wrappers.py:255] Starting Video Generation with model ModelScopeT2VGenerator
INFO 12-10 01:12:20 ModelScopeT2VGenerator.py:14] model ModelScopeT2VGenerator will initialize with model_path: damo-vilab/text-to-video-ms-1.7b
Loading pipeline components...:   0%|          | 0/5 [00:00<?, ?it/s]Loading pipeline components...:  20%|██        | 1/5 [00:00<00:00,  4.45it/s]Loading pipeline components...:  60%|██████    | 3/5 [00:00<00:00,  5.32it/s]Loading pipeline components...: 100%|██████████| 5/5 [00:00<00:00,  5.75it/s]Loading pipeline components...: 100%|██████████| 5/5 [00:00<00:00,  5.58it/s]
Token indices sequence length is longer than the specified maximum sequence length for this model (111 > 77). Running this sequence through the model will result in indexing errors
The following part of your input was truncated because CLIP can only handle sequences up to 77 tokens: ['meets the sky in a seamless blend of hues . close - ups reveal the intricate patterns of the waves , capturing the fluidity and dynamic beauty of the sea in motion .']
  0%|          | 0/50 [00:00<?, ?it/s]  2%|▏         | 1/50 [00:03<03:08,  3.85s/it]  4%|▍         | 2/50 [00:04<01:21,  1.70s/it]  6%|▌         | 3/50 [00:04<00:47,  1.01s/it]  8%|▊         | 4/50 [00:04<00:31,  1.46it/s] 10%|█         | 5/50 [00:04<00:22,  1.98it/s] 12%|█▏        | 6/50 [00:04<00:17,  2.52it/s] 14%|█▍        | 7/50 [00:04<00:14,  3.04it/s] 16%|█▌        | 8/50 [00:05<00:11,  3.53it/s] 18%|█▊        | 9/50 [00:05<00:10,  3.96it/s] 20%|██        | 10/50 [00:05<00:09,  4.30it/s] 22%|██▏       | 11/50 [00:05<00:08,  4.58it/s] 24%|██▍       | 12/50 [00:05<00:07,  4.79it/s] 26%|██▌       | 13/50 [00:06<00:07,  4.94it/s] 28%|██▊       | 14/50 [00:06<00:07,  5.05it/s] 30%|███       | 15/50 [00:06<00:06,  5.13it/s] 32%|███▏      | 16/50 [00:06<00:06,  5.18it/s] 34%|███▍      | 17/50 [00:06<00:06,  5.24it/s] 36%|███▌      | 18/50 [00:07<00:06,  5.23it/s] 38%|███▊      | 19/50 [00:07<00:05,  5.27it/s] 40%|████      | 20/50 [00:07<00:05,  5.27it/s] 42%|████▏     | 21/50 [00:07<00:05,  5.30it/s] 44%|████▍     | 22/50 [00:07<00:05,  5.32it/s] 46%|████▌     | 23/50 [00:07<00:05,  5.32it/s] 48%|████▊     | 24/50 [00:08<00:04,  5.31it/s] 50%|█████     | 25/50 [00:08<00:04,  5.30it/s] 52%|█████▏    | 26/50 [00:08<00:04,  5.28it/s] 54%|█████▍    | 27/50 [00:08<00:04,  5.32it/s] 56%|█████▌    | 28/50 [00:08<00:04,  5.31it/s] 58%|█████▊    | 29/50 [00:09<00:03,  5.31it/s] 60%|██████    | 30/50 [00:09<00:03,  5.33it/s] 62%|██████▏   | 31/50 [00:09<00:03,  5.32it/s] 64%|██████▍   | 32/50 [00:09<00:03,  5.31it/s] 66%|██████▌   | 33/50 [00:09<00:03,  5.33it/s] 68%|██████▊   | 34/50 [00:10<00:03,  5.33it/s] 70%|███████   | 35/50 [00:10<00:02,  5.34it/s] 72%|███████▏  | 36/50 [00:10<00:02,  5.36it/s] 74%|███████▍  | 37/50 [00:10<00:02,  5.33it/s] 76%|███████▌  | 38/50 [00:10<00:02,  5.32it/s] 78%|███████▊  | 39/50 [00:10<00:02,  5.30it/s] 80%|████████  | 40/50 [00:11<00:01,  5.30it/s] 82%|████████▏ | 41/50 [00:11<00:01,  5.32it/s] 84%|████████▍ | 42/50 [00:11<00:01,  5.31it/s] 86%|████████▌ | 43/50 [00:11<00:01,  5.33it/s] 88%|████████▊ | 44/50 [00:11<00:01,  5.32it/s] 90%|█████████ | 45/50 [00:12<00:00,  5.32it/s] 92%|█████████▏| 46/50 [00:12<00:00,  5.30it/s] 94%|█████████▍| 47/50 [00:12<00:00,  5.29it/s] 96%|█████████▌| 48/50 [00:12<00:00,  5.31it/s] 98%|█████████▊| 49/50 [00:12<00:00,  5.31it/s]100%|██████████| 50/50 [00:13<00:00,  5.29it/s]100%|██████████| 50/50 [00:13<00:00,  3.83it/s]
The following part of your input was truncated because CLIP can only handle sequences up to 77 tokens: ['meets the sky in a seamless blend of hues . close - ups reveal the intricate patterns of the waves , capturing the fluidity and dynamic beauty of the sea in motion .']
  0%|          | 0/50 [00:00<?, ?it/s]  2%|▏         | 1/50 [00:00<00:47,  1.04it/s]  4%|▍         | 2/50 [00:01<00:24,  1.97it/s]  6%|▌         | 3/50 [00:01<00:16,  2.78it/s]  8%|▊         | 4/50 [00:01<00:13,  3.43it/s] 10%|█         | 5/50 [00:01<00:11,  3.92it/s] 12%|█▏        | 6/50 [00:01<00:10,  4.29it/s] 14%|█▍        | 7/50 [00:02<00:09,  4.57it/s] 16%|█▌        | 8/50 [00:02<00:08,  4.78it/s] 18%|█▊        | 9/50 [00:02<00:08,  4.93it/s] 20%|██        | 10/50 [00:02<00:07,  5.02it/s] 22%|██▏       | 11/50 [00:02<00:07,  5.13it/s] 24%|██▍       | 12/50 [00:03<00:07,  5.19it/s] 26%|██▌       | 13/50 [00:03<00:07,  5.22it/s] 28%|██▊       | 14/50 [00:03<00:06,  5.25it/s] 30%|███       | 15/50 [00:03<00:06,  5.27it/s] 32%|███▏      | 16/50 [00:03<00:06,  5.29it/s] 34%|███▍      | 17/50 [00:03<00:06,  5.29it/s] 36%|███▌      | 18/50 [00:04<00:06,  5.31it/s] 38%|███▊      | 19/50 [00:04<00:05,  5.31it/s] 40%|████      | 20/50 [00:04<00:05,  5.28it/s] 42%|████▏     | 21/50 [00:04<00:05,  5.28it/s] 44%|████▍     | 22/50 [00:04<00:05,  5.27it/s] 46%|████▌     | 23/50 [00:05<00:05,  5.27it/s] 48%|████▊     | 24/50 [00:05<00:04,  5.26it/s] 50%|█████     | 25/50 [00:05<00:04,  5.26it/s] 52%|█████▏    | 26/50 [00:05<00:04,  5.24it/s] 54%|█████▍    | 27/50 [00:05<00:04,  5.25it/s] 56%|█████▌    | 28/50 [00:06<00:04,  5.26it/s] 58%|█████▊    | 29/50 [00:06<00:03,  5.26it/s] 60%|██████    | 30/50 [00:06<00:03,  5.27it/s] 62%|██████▏   | 31/50 [00:06<00:03,  5.28it/s] 64%|██████▍   | 32/50 [00:06<00:03,  5.28it/s] 66%|██████▌   | 33/50 [00:07<00:03,  5.26it/s] 68%|██████▊   | 34/50 [00:07<00:03,  5.25it/s] 70%|███████   | 35/50 [00:07<00:02,  5.26it/s] 72%|███████▏  | 36/50 [00:07<00:02,  5.27it/s] 74%|███████▍  | 37/50 [00:07<00:02,  5.27it/s] 76%|███████▌  | 38/50 [00:07<00:02,  5.28it/s] 78%|███████▊  | 39/50 [00:08<00:02,  5.27it/s] 80%|████████  | 40/50 [00:08<00:01,  5.26it/s] 82%|████████▏ | 41/50 [00:08<00:01,  5.24it/s] 84%|████████▍ | 42/50 [00:08<00:01,  5.25it/s] 86%|████████▌ | 43/50 [00:08<00:01,  5.26it/s] 88%|████████▊ | 44/50 [00:09<00:01,  5.26it/s] 90%|█████████ | 45/50 [00:09<00:00,  5.28it/s] 92%|█████████▏| 46/50 [00:09<00:00,  5.27it/s] 94%|█████████▍| 47/50 [00:09<00:00,  5.27it/s] 96%|█████████▌| 48/50 [00:09<00:00,  5.26it/s] 98%|█████████▊| 49/50 [00:10<00:00,  5.27it/s]100%|██████████| 50/50 [00:10<00:00,  5.28it/s]100%|██████████| 50/50 [00:10<00:00,  4.88it/s]
It is recommended to use `export_to_video` with `imageio` and `imageio-ffmpeg` as a backend. 
These libraries are not present in your environment. Attempting to use legacy OpenCV backend to export video. 
Support for the OpenCV backend will be deprecated in a future Diffusers version
It is recommended to use `export_to_video` with `imageio` and `imageio-ffmpeg` as a backend. 
These libraries are not present in your environment. Attempting to use legacy OpenCV backend to export video. 
Support for the OpenCV backend will be deprecated in a future Diffusers version
INFO 12-10 01:12:52 DataManager.py:124] Recording data for step step_1_VideoGenerator_ModelScopeT2VGenerator
INFO 12-10 01:12:52 DataManager.py:53] Saved 2 items to intermediate_results/step_1_VideoGenerator_ModelScopeT2VGenerator/result.jsonl
INFO 12-10 01:12:52 manager.py:84] Completed step 1: VideoGenerator - ModelScopeT2VGenerator
INFO 12-10 01:12:52 manager.py:69] Starting step 2: postprocess - format
WARNING 12-10 01:12:52 DataManager.py:68] Final output folder results/video already exists. It will be overwritten.
INFO 12-10 01:12:52 DataManager.py:73] Final results saved to results/video
INFO 12-10 01:12:52 manager.py:84] Completed step 2: postprocess - format
INFO 12-10 01:12:52 manager.py:89] Pipeline execution completed.
